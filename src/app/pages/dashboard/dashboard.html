<mat-card class="dashboard-card mat-elevation-z4">
  <mat-card-header>
    <mat-card-title>
      🏓 Benvenuto nel Torneo Aziendale di Ping-Pong!
    </mat-card-title>
    <mat-card-subtitle *ngIf="user$ | async as user">
      {{ user.firstName }} {{ user.lastName }} – {{ user.role | titlecase }}
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content *ngIf="user$ | async as user">
    <p *ngIf="user.isTournamentParticipant; else notJoined">
      Sei iscritto al torneo.
    </p>

    <ng-template #notJoined>
      <p>Non sei ancora iscritto al torneo. Iscriviti per partecipare!</p>
    </ng-template>

    <div class="action-buttons">
      <button
        *ngIf="!user.isTournamentParticipant"
        mat-raised-button
        color="primary"
        (click)="joinTournament()"
      >
        Iscriviti al torneo
      </button>

      <button
        *ngIf="user.role !== 'admin'"
        mat-stroked-button
        color="accent"
        (click)="becomeOrganizer()"
      >
        Diventa organizzatore
      </button>
    </div>
  </mat-card-content>
</mat-card>
